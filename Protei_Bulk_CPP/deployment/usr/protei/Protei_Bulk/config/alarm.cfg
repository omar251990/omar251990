# Protei_Bulk Alarm and SNMP Configuration
# Following Protei SMSC standards for monitoring and alerting

[SNMP]
# SNMP agent configuration
enable_snmp = true
snmp_version = 2c
snmp_community = public
snmp_bind_address = 0.0.0.0
snmp_bind_port = 161

# MIB configuration
mib_file = /usr/protei/Protei_Bulk/config/PROTEI-BULK-MIB.txt
enterprise_oid = 1.3.6.1.4.1.99999.1

[SNMP_Traps]
# SNMP trap configuration
enable_traps = true
trap_version = 2c
trap_community = public

# Trap destinations
trap_destination_1 = 192.168.1.100:162
trap_destination_2 = 192.168.1.101:162
trap_destination_3 = 192.168.1.102:162

# Trap filtering
min_severity_level = warning
enable_trap_throttling = true
max_traps_per_minute = 100

[Alarm_Thresholds]
# System resource thresholds
cpu_warning_threshold = 75
cpu_critical_threshold = 90
cpu_alarm_duration_seconds = 60

memory_warning_threshold = 70
memory_critical_threshold = 85
memory_alarm_duration_seconds = 60

disk_warning_threshold = 80
disk_critical_threshold = 90
disk_check_interval_minutes = 5

# Application thresholds
queue_warning_threshold = 50000
queue_critical_threshold = 80000

tps_warning_threshold = 12000
tps_critical_threshold = 14000

connection_warning_threshold = 800
connection_critical_threshold = 950

# Message delivery thresholds
success_rate_warning_threshold = 95
success_rate_critical_threshold = 90
delivery_delay_warning_seconds = 60
delivery_delay_critical_seconds = 300

[Alarm_Actions]
# Actions to take on alarms
enable_email_alerts = true
enable_sms_alerts = false
enable_snmp_traps = true
enable_webhook_alerts = true
enable_log_alerts = true

# Email alerts
alert_email_addresses = admin@example.com,ops@example.com
alert_email_subject_prefix = [PROTEI_BULK ALARM]
min_email_interval_minutes = 5

# SMS alerts
alert_phone_numbers = +966500000000,+966500000001
min_sms_interval_minutes = 15

# Webhook alerts
alert_webhook_url = https://example.com/alerts/protei
webhook_retry_count = 3
webhook_timeout_seconds = 10

[Alarm_Types]
# Critical alarms (severity: critical)
SYSTEM_START = critical
SYSTEM_STOP = critical
LICENSE_EXPIRED = critical
LICENSE_INVALID = critical
DATABASE_CONNECTION_LOST = critical
REDIS_CONNECTION_LOST = critical
SMSC_CONNECTION_LOST = critical
HIGH_CPU_USAGE = critical
HIGH_MEMORY_USAGE = critical
DISK_SPACE_CRITICAL = critical
QUEUE_OVERFLOW = critical
MULTIPLE_FAILED_LOGINS = critical

# Warning alarms (severity: warning)
CPU_HIGH = warning
MEMORY_HIGH = warning
DISK_SPACE_LOW = warning
QUEUE_HIGH = warning
SMSC_CONNECTION_RETRY = warning
DATABASE_SLOW_QUERY = warning
DELIVERY_DELAY = warning
LOW_SUCCESS_RATE = warning
CONFIGURATION_CHANGED = warning

# Info alarms (severity: info)
SYSTEM_RELOAD = info
CONFIGURATION_RELOAD = info
CAMPAIGN_STARTED = info
CAMPAIGN_COMPLETED = info
BACKUP_COMPLETED = info

[Counters]
# Performance counters (exported via SNMP)
# Following SMSC counters.cnt format

# Message counters
enable_message_counters = true
messages_submitted_total = 0
messages_delivered_total = 0
messages_failed_total = 0
messages_pending_total = 0
messages_per_second = 0

# Campaign counters
enable_campaign_counters = true
campaigns_active = 0
campaigns_completed_today = 0
campaigns_total = 0

# Connection counters
enable_connection_counters = true
smpp_connections_active = 0
http_connections_active = 0
database_connections_active = 0
redis_connections_active = 0

# System counters
enable_system_counters = true
cpu_usage_percent = 0
memory_usage_percent = 0
disk_usage_percent = 0
uptime_seconds = 0

# Queue counters
enable_queue_counters = true
queue_depth_high_priority = 0
queue_depth_normal_priority = 0
queue_depth_low_priority = 0
queue_depth_total = 0

# Error counters
enable_error_counters = true
errors_total = 0
errors_database = 0
errors_smsc = 0
errors_timeout = 0
errors_validation = 0

[Counter_Export]
# Counter export configuration
export_interval_seconds = 60
export_format = csv
export_directory = /usr/protei/Protei_Bulk/data/counters
enable_auto_reset = false
reset_interval = daily

# SNMP counter mapping
enable_snmp_counters = true
counter_refresh_interval_seconds = 10

[Monitoring]
# External monitoring integration
enable_prometheus = true
prometheus_port = 9090
prometheus_metrics_path = /metrics

enable_grafana = true
grafana_api_url = http://localhost:3000

enable_zabbix = false
zabbix_server = 192.168.1.100
zabbix_port = 10051
